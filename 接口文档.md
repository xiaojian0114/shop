# æ¥å£æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®ä¿¡æ¯

- **é¡¹ç›®åç§°**: æç®€ç”µå•†ç³»ç»Ÿ
- **æŠ€æœ¯æ ˆ**: Spring Boot 3.2.5 + MyBatis-Plus + Spring Security + JWT
- **æœåŠ¡ç«¯å£**: 8080
- **åŸºç¡€URL**: `http://localhost:8080`

---

## ğŸ” è®¤è¯è¯´æ˜

### è®¤è¯æ–¹å¼
- ä½¿ç”¨ **JWT Token** è¿›è¡Œèº«ä»½è®¤è¯
- è¯·æ±‚å¤´æ ¼å¼: `Authorization: Bearer {token}`
- æ³¨å†Œ/ç™»å½•æ¥å£è¿”å› `token`ï¼Œåç»­è¯·æ±‚éœ€æºå¸¦æ­¤ token

### ç»Ÿä¸€å“åº”æ ¼å¼
```json
{
  "code": 200,        // 200æˆåŠŸï¼Œ500å¤±è´¥
  "msg": "æˆåŠŸ",      // æç¤ºä¿¡æ¯
  "data": {}          // æ•°æ®å¯¹è±¡
}
```

### è§’è‰²è¯´æ˜
- `user`: æ™®é€šç”¨æˆ·
- `merchant`: å•†å®¶
- `admin`: ç®¡ç†å‘˜

---

## ğŸ“š æ¥å£åˆ—è¡¨

### ä¸€ã€è®¤è¯æ¨¡å— (`/auth`)

#### 1. ç”¨æˆ·æ³¨å†Œ
- **æ¥å£**: `POST /auth/register`
- **æƒé™**: æ— éœ€è®¤è¯
- **è¯·æ±‚ä½“**:
```json
{
  "phone": "13800138000",
  "password": "123456",
  "role": "user"  // æˆ– "merchant"
}
```
- **å“åº”**:
```json
{
  "code": 200,
  "msg": "æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "userId": 1,
    "phone": "13800138000",
    "role": "user",
    "nickname": "ç”¨æˆ·8000"
  }
}
```

#### 2. ç”¨æˆ·ç™»å½•
- **æ¥å£**: `POST /auth/login`
- **æƒé™**: æ— éœ€è®¤è¯
- **è¯·æ±‚ä½“**:
```json
{
  "phone": "13800138000",
  "password": "123456"
}
```
- **å“åº”**: åŒæ³¨å†Œæ¥å£

#### 3. è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- **æ¥å£**: `GET /auth/info`
- **æƒé™**: éœ€è¦è®¤è¯
- **å“åº”**: è¿”å›å½“å‰ç™»å½•ç”¨æˆ·å®Œæ•´ä¿¡æ¯

---

### äºŒã€ç”¨æˆ·æ¨¡å— (`/user`)

#### 1. è·å–å•†å“åˆ—è¡¨
- **æ¥å£**: `GET /user/products`
- **æƒé™**: éœ€è¦è®¤è¯
- **è¯´æ˜**: è¿”å›æ‰€æœ‰ä¸Šæ¶å•†å“
- **å“åº”**: å•†å“åˆ—è¡¨æ•°ç»„

#### 2. æœç´¢å•†å“
- **æ¥å£**: `GET /user/products/search?keyword={keyword}`
- **æƒé™**: éœ€è¦è®¤è¯
- **å‚æ•°**: `keyword` - æœç´¢å…³é”®è¯
- **å“åº”**: å•†å“åˆ—è¡¨æ•°ç»„

#### 3. è·å–å•†å“è¯¦æƒ…
- **æ¥å£**: `GET /user/product/{id}`
- **æƒé™**: éœ€è¦è®¤è¯
- **è¯´æ˜**: åªèƒ½æŸ¥çœ‹ä¸Šæ¶å•†å“
- **å“åº”**: å•†å“è¯¦ç»†ä¿¡æ¯

#### 4. è·å–åº—é“ºä¿¡æ¯
- **æ¥å£**: `GET /user/shop/info/{id}`
- **æƒé™**: éœ€è¦è®¤è¯
- **è¯´æ˜**: åªèƒ½æŸ¥çœ‹å®¡æ ¸é€šè¿‡çš„åº—é“º
- **å“åº”**: åº—é“ºè¯¦ç»†ä¿¡æ¯

#### 5. åŠ å…¥è´­ç‰©è½¦
- **æ¥å£**: `POST /user/cart/add`
- **æƒé™**: éœ€è¦è®¤è¯
- **è¯·æ±‚ä½“**:
```json
{
  "productId": 1,
  "num": 2
}
```
- **è¯´æ˜**: å¦‚æœå•†å“å·²å­˜åœ¨ï¼Œåˆ™æ›´æ–°æ•°é‡
- **å“åº”**: `{ "code": 200, "msg": "æˆåŠŸ", "data": "åŠ å…¥æˆåŠŸ" }`

#### 6. è·å–è´­ç‰©è½¦
- **æ¥å£**: `GET /user/cart`
- **æƒé™**: éœ€è¦è®¤è¯
- **å“åº”**: è´­ç‰©è½¦åˆ—è¡¨ï¼ˆåŒ…å«å•†å“ä¿¡æ¯ï¼‰
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "productId": 1,
      "productName": "å•†å“åç§°",
      "productImage": "http://xxx/image.jpg",
      "price": 99.00,
      "num": 2,
      "checked": true
    }
  ]
}
```

#### 7. åˆ é™¤è´­ç‰©è½¦å•†å“
- **æ¥å£**: `POST /user/cart/delete`
- **æƒé™**: éœ€è¦è®¤è¯
- **è¯·æ±‚ä½“**ï¼ˆå•ä¸ªåˆ é™¤ï¼‰:
```json
{
  "productId": 1
}
```
- **è¯·æ±‚ä½“**ï¼ˆæ‰¹é‡åˆ é™¤ï¼‰:
```json
{
  "productIds": [1, 2, 3]
}
```

#### 8. æäº¤è®¢å•
- **æ¥å£**: `POST /user/order/submit`
- **æƒé™**: éœ€è¦è®¤è¯
- **è¯·æ±‚ä½“**:
```json
{
  "productIds": [1, 2, 3],
  "address": "æ”¶è´§åœ°å€"
}
```
- **è¯´æ˜**: 
  - æš‚ä¸æ”¯æŒè·¨åº—é“ºä¸‹å•
  - æäº¤åè‡ªåŠ¨æ¸…ç©ºè´­ç‰©è½¦
- **å“åº”**: `{ "code": 200, "data": "ORD123456789" }` (è®¢å•å·)

#### 9. æ”¯ä»˜è®¢å•
- **æ¥å£**: `POST /user/order/pay`
- **æƒé™**: éœ€è¦è®¤è¯
- **è¯·æ±‚ä½“**:
```json
{
  "orderNo": "ORD123456789"
}
```
- **è¯´æ˜**: å°†è®¢å•çŠ¶æ€ä»"å¾…æ”¯ä»˜"æ›´æ–°ä¸º"å¾…å‘è´§"
- **å“åº”**: `{ "code": 200, "msg": "æ”¯ä»˜æˆåŠŸï¼è®¢å•å·ï¼šORD123456789" }`

#### 10. è®¢å•åˆ—è¡¨
- **æ¥å£**: `GET /user/order/list?status={status}&page={page}&pageSize={pageSize}`
- **æƒé™**: éœ€è¦è®¤è¯
- **å‚æ•°**:
  - `status`: 0å…¨éƒ¨, 1å¾…æ”¯ä»˜, 2å¾…å‘è´§, 3å¾…æ”¶è´§, 4å·²å®Œæˆ, 5å·²å–æ¶ˆ
  - `page`: é¡µç ï¼Œé»˜è®¤1
  - `pageSize`: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10ï¼Œæœ€å¤§50
- **å“åº”**:
```json
{
  "code": 200,
  "data": {
    "list": [
      {
        "orderId": 1,
        "orderNo": "ORD123456789",
        "totalAmount": 199.00,
        "status": 2,
        "statusText": "å¾…å‘è´§",
        "createTime": "2024-01-01T12:00:00",
        "address": "æ”¶è´§åœ°å€",
        "goods": [
          {
            "productId": 1,
            "productName": "å•†å“åç§°",
            "productImage": "http://xxx/image.jpg",
            "price": 99.00,
            "num": 2
          }
        ],
        "goodsCount": 1
      }
    ],
    "total": 100,
    "page": 1,
    "pageSize": 10
  }
}
```

#### 11. è®¢å•ç»Ÿè®¡
- **æ¥å£**: `GET /user/order/count`
- **æƒé™**: éœ€è¦è®¤è¯
- **å“åº”**:
```json
{
  "code": 200,
  "data": {
    "total": 50,
    "pending": 5,      // å¾…æ”¯ä»˜
    "paid": 10,        // å¾…å‘è´§
    "delivering": 8,   // å¾…æ”¶è´§
    "finished": 27     // å·²å®Œæˆ
  }
}
```

#### 12. è·å–ç”¨æˆ·ä¿¡æ¯
- **æ¥å£**: `GET /user/info`
- **æƒé™**: éœ€è¦è®¤è¯
- **å“åº”**:
```json
{
  "code": 200,
  "data": {
    "userId": 1,
    "nickname": "ç”¨æˆ·8000",
    "phone": "13800138000",
    "role": "user",
    "avatar": "http://xxx/avatar.jpg"
  }
}
```

---

### ä¸‰ã€å•†å®¶æ¨¡å— (`/merchant`)

#### åº—é“ºç®¡ç†

##### 1. è·å–æˆ‘çš„åº—é“ºåˆ—è¡¨
- **æ¥å£**: `GET /merchant/shops`
- **æƒé™**: å•†å®¶
- **å“åº”**: è¿”å›å½“å‰å•†å®¶çš„åº—é“ºåˆ—è¡¨

##### 2. ç”³è¯·å¼€åº—
- **æ¥å£**: `POST /merchant/shop/apply`
- **æƒé™**: å•†å®¶
- **è¯·æ±‚ä½“**:
```json
{
  "name": "æˆ‘çš„åº—é“º",
  "logo": "http://xxx/logo.jpg"
}
```
- **è¯´æ˜**: æ¯ä¸ªå•†å®¶åªèƒ½ç”³è¯·ä¸€æ¬¡
- **å“åº”**: `{ "code": 200, "msg": "æˆåŠŸ", "data": "ç”³è¯·æäº¤æˆåŠŸ" }`

##### 3. æ›´æ–°åº—é“ºä¿¡æ¯
- **æ¥å£**: `POST /merchant/shop/update`
- **æƒé™**: å•†å®¶
- **è¯·æ±‚ä½“**:
```json
{
  "name": "æ–°åº—é“ºå",
  "logo": "http://xxx/logo.jpg"
}
```

##### 4. è·å–åº—é“ºä¿¡æ¯
- **æ¥å£**: `GET /merchant/shop/info`
- **æƒé™**: å•†å®¶
- **å“åº”**: è¿”å›åº—é“ºåŸºæœ¬ä¿¡æ¯(id, name, logo, status)

##### 5. è·å–åº—é“ºè¯¦æƒ…
- **æ¥å£**: `GET /merchant/shop/detail/{id}`
- **æƒé™**: å•†å®¶
- **å“åº”**: åŒ…å«åº—é“ºä¿¡æ¯å’Œå•†å“åˆ—è¡¨

#### å•†å“ç®¡ç†

##### 6. è·å–å•†å“åˆ—è¡¨ï¼ˆä»…ä¸Šæ¶ï¼‰
- **æ¥å£**: `GET /merchant/products?shopId={shopId}`
- **æƒé™**: å•†å®¶
- **å“åº”**: è¿”å›è¯¥åº—é“ºå·²ä¸Šæ¶çš„å•†å“åˆ—è¡¨

##### 7. è·å–æ‰€æœ‰å•†å“ï¼ˆå«ä¸‹æ¶ï¼‰
- **æ¥å£**: `GET /merchant/products/all?shopId={shopId}`
- **æƒé™**: å•†å®¶
- **å“åº”**: è¿”å›è¯¥åº—é“ºæ‰€æœ‰å•†å“

##### 8. æœç´¢å•†å“
- **æ¥å£**: `GET /merchant/product/search?shopId={shopId}&keyword={keyword}&status={status}`
- **æƒé™**: å•†å®¶
- **å‚æ•°**: 
  - `shopId`: å¿…å¡«
  - `keyword`: å¯é€‰ï¼Œå•†å“åç§°å…³é”®è¯
  - `status`: å¯é€‰ï¼Œ0ä¸‹æ¶/1ä¸Šæ¶

##### 9. æ·»åŠ å•†å“
- **æ¥å£**: `POST /merchant/product`
- **æƒé™**: å•†å®¶ï¼ˆåº—é“ºéœ€å®¡æ ¸é€šè¿‡ï¼‰
- **è¯·æ±‚ä½“**:
```json
{
  "name": "å•†å“åç§°",
  "price": 99.00,
  "stock": 100,
  "image": "http://xxx/image.jpg"
}
```

##### 10. è·å–å•†å“è¯¦æƒ…
- **æ¥å£**: `GET /merchant/product/{id}`
- **æƒé™**: å•†å®¶

##### 11. æ›´æ–°å•†å“
- **æ¥å£**: `PUT /merchant/product/update`
- **æƒé™**: å•†å®¶
- **è¯·æ±‚ä½“**: åŒ…å«idå’Œè¦æ›´æ–°çš„å­—æ®µ

##### 12. ä¸‹æ¶å•†å“
- **æ¥å£**: `PUT /merchant/product/off/{id}`
- **æƒé™**: å•†å®¶
- **å“åº”**: `{ "code": 200, "msg": "æˆåŠŸ", "data": "å·²ä¸‹æ¶" }`

#### è®¢å•ç®¡ç†

##### 13. è·å–è®¢å•åˆ—è¡¨
- **æ¥å£**: `GET /merchant/orders`
- **æƒé™**: å•†å®¶
- **å“åº”**: è¿”å›è®¢å•åˆ—è¡¨ï¼Œæ¯ä¸ªè®¢å•åŒ…å«è®¢å•é¡¹ä¿¡æ¯(items/orderItems)

##### 14. è·å–è®¢å•è¯¦æƒ…
- **æ¥å£**: `GET /merchant/order/{id}`
- **æƒé™**: å•†å®¶
- **å“åº”**: 
```json
{
  "code": 200,
  "data": {
    "order": { ... },
    "orderItems": [ ... ]
  }
}
```

##### 15. å‘è´§
- **æ¥å£**: `PUT /merchant/order/deliver/{orderId}`
- **æƒé™**: å•†å®¶
- **è¯´æ˜**: å°†è®¢å•çŠ¶æ€ä»"å¾…å‘è´§"æ›´æ–°ä¸º"å¾…æ”¶è´§"ï¼Œå¹¶è®¾ç½®å‘è´§æ—¶é—´
- **å“åº”**: `{ "code": 200, "msg": "æˆåŠŸ", "data": "å·²å‘è´§" }`

##### 16. è®¢å•ç»Ÿè®¡
- **æ¥å£**: `GET /merchant/order/stats`
- **æƒé™**: å•†å®¶
- **å“åº”**:
```json
{
  "code": 200,
  "data": {
    "pendingDelivery": 5,    // å¾…å‘è´§æ•°é‡
    "todayOrders": 10,       // ä»Šæ—¥è®¢å•æ•°
    "totalProducts": 50      // å•†å“æ€»æ•°
  }
}
```

#### å…¶ä»–

##### 17. å›¾ç‰‡ä¸Šä¼ 
- **æ¥å£**: `POST /merchant/upload`
- **æƒé™**: å•†å®¶
- **è¯·æ±‚**: `multipart/form-data`ï¼Œå­—æ®µå `file`
- **è¯´æ˜**: ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OSS
- **å“åº”**: `{ "code": 200, "data": "https://my-bucket-wyj.oss-cn-shanghai.aliyuncs.com/shop/xxx.jpg" }`

##### 18. è·å–å•†å®¶ä¿¡æ¯
- **æ¥å£**: `GET /merchant/info`
- **æƒé™**: å•†å®¶
- **å“åº”**: åŒ…å«ç”¨æˆ·ä¿¡æ¯å’Œåº—é“ºä¿¡æ¯

---

### å››ã€ç®¡ç†å‘˜æ¨¡å— (`/admin`)

#### ç”¨æˆ·ç®¡ç†

##### 1. ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- **æ¥å£**: `GET /admin/users?page={page}&pageSize={pageSize}&keyword={keyword}&role={role}`
- **æƒé™**: ç®¡ç†å‘˜
- **å‚æ•°**:
  - `page`: é¡µç ï¼Œé»˜è®¤1
  - `pageSize`: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100
  - `keyword`: å¯é€‰ï¼Œæœç´¢å…³é”®è¯ï¼ˆæ‰‹æœºå·æˆ–æ˜µç§°ï¼‰
  - `role`: å¯é€‰ï¼Œè§’è‰²ç­›é€‰ï¼ˆuser/merchant/adminï¼‰
- **å“åº”**: åˆ†é¡µç”¨æˆ·åˆ—è¡¨

##### 2. ç”¨æˆ·è¯¦æƒ…
- **æ¥å£**: `GET /admin/user/{id}`
- **æƒé™**: ç®¡ç†å‘˜
- **å“åº”**: ç”¨æˆ·è¯¦ç»†ä¿¡æ¯

##### 3. æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- **æ¥å£**: `PUT /admin/user/{id}`
- **æƒé™**: ç®¡ç†å‘˜
- **è¯·æ±‚ä½“**: åªä¼ éœ€è¦æ›´æ–°çš„å­—æ®µ

##### 4. åˆ é™¤ç”¨æˆ·
- **æ¥å£**: `DELETE /admin/user/{id}`
- **æƒé™**: ç®¡ç†å‘˜

##### 5. å¯ç”¨/ç¦ç”¨ç”¨æˆ·
- **æ¥å£**: `PUT /admin/user/{id}/status?status={status}`
- **æƒé™**: ç®¡ç†å‘˜
- **å‚æ•°**: `status` (1å¯ç”¨, 0ç¦ç”¨)

#### åº—é“ºç®¡ç†

##### 6. åº—é“ºåˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- **æ¥å£**: `GET /admin/shops?page={page}&pageSize={pageSize}&keyword={keyword}&status={status}`
- **æƒé™**: ç®¡ç†å‘˜
- **å‚æ•°**:
  - `page`: é¡µç ï¼Œé»˜è®¤1
  - `pageSize`: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100
  - `keyword`: å¯é€‰ï¼Œåº—é“ºåç§°å…³é”®è¯
  - `status`: å¯é€‰ï¼ŒçŠ¶æ€ç­›é€‰ï¼ˆ0å®¡æ ¸ä¸­, 1é€šè¿‡, 2é©³å›ï¼‰

##### 7. å¾…å®¡æ ¸åº—é“ºåˆ—è¡¨
- **æ¥å£**: `GET /admin/shops/pending`
- **æƒé™**: ç®¡ç†å‘˜
- **å“åº”**: è¿”å›æ‰€æœ‰çŠ¶æ€ä¸º0(å®¡æ ¸ä¸­)çš„åº—é“ºåˆ—è¡¨

##### 8. åº—é“ºè¯¦æƒ…
- **æ¥å£**: `GET /admin/shop/{id}`
- **æƒé™**: ç®¡ç†å‘˜

##### 9. æ›´æ–°åº—é“ºä¿¡æ¯
- **æ¥å£**: `PUT /admin/shop/{id}`
- **æƒé™**: ç®¡ç†å‘˜

##### 10. åˆ é™¤åº—é“º
- **æ¥å£**: `DELETE /admin/shop/{id}`
- **æƒé™**: ç®¡ç†å‘˜

##### 11. å®¡æ ¸é€šè¿‡
- **æ¥å£**: `PUT /admin/shop/approve/{id}`
- **æƒé™**: ç®¡ç†å‘˜
- **å“åº”**: `{ "code": 200, "msg": "æˆåŠŸ", "data": "å®¡æ ¸é€šè¿‡" }`

##### 12. å®¡æ ¸é©³å›
- **æ¥å£**: `PUT /admin/shop/reject/{id}`
- **æƒé™**: ç®¡ç†å‘˜
- **å“åº”**: `{ "code": 200, "msg": "æˆåŠŸ", "data": "å·²é©³å›" }`

#### å•†å“ç®¡ç†

##### 13. å•†å“åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- **æ¥å£**: `GET /admin/products?page={page}&pageSize={pageSize}&keyword={keyword}&shopId={shopId}&isOnSale={isOnSale}`
- **æƒé™**: ç®¡ç†å‘˜
- **å‚æ•°**:
  - `page`: é¡µç ï¼Œé»˜è®¤1
  - `pageSize`: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100
  - `keyword`: å¯é€‰ï¼Œå•†å“åç§°å…³é”®è¯
  - `shopId`: å¯é€‰ï¼Œåº—é“ºIDç­›é€‰
  - `isOnSale`: å¯é€‰ï¼Œä¸Šæ¶çŠ¶æ€ï¼ˆ0ä¸‹æ¶, 1ä¸Šæ¶ï¼‰

##### 14. å•†å“è¯¦æƒ…
- **æ¥å£**: `GET /admin/product/{id}`
- **æƒé™**: ç®¡ç†å‘˜

##### 15. æ›´æ–°å•†å“ä¿¡æ¯
- **æ¥å£**: `PUT /admin/product/{id}`
- **æƒé™**: ç®¡ç†å‘˜

##### 16. åˆ é™¤å•†å“
- **æ¥å£**: `DELETE /admin/product/{id}`
- **æƒé™**: ç®¡ç†å‘˜

##### 17. ä¸Šæ¶/ä¸‹æ¶å•†å“
- **æ¥å£**: `PUT /admin/product/{id}/sale?isOnSale={isOnSale}`
- **æƒé™**: ç®¡ç†å‘˜
- **å‚æ•°**: `isOnSale` (0ä¸‹æ¶, 1ä¸Šæ¶)

#### è®¢å•ç®¡ç†

##### 18. è®¢å•åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- **æ¥å£**: `GET /admin/orders?page={page}&pageSize={pageSize}&orderNo={orderNo}&status={status}&shopId={shopId}&userId={userId}`
- **æƒé™**: ç®¡ç†å‘˜
- **å‚æ•°**:
  - `page`: é¡µç ï¼Œé»˜è®¤1
  - `pageSize`: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100
  - `orderNo`: å¯é€‰ï¼Œè®¢å•å·å…³é”®è¯
  - `status`: å¯é€‰ï¼Œè®¢å•çŠ¶æ€
  - `shopId`: å¯é€‰ï¼Œåº—é“ºIDç­›é€‰
  - `userId`: å¯é€‰ï¼Œç”¨æˆ·IDç­›é€‰
- **å“åº”**: è®¢å•åˆ—è¡¨ï¼ˆåŒ…å«è®¢å•é¡¹ï¼‰

##### 19. è®¢å•è¯¦æƒ…
- **æ¥å£**: `GET /admin/order/{id}`
- **æƒé™**: ç®¡ç†å‘˜
- **å“åº”**: è®¢å•ä¿¡æ¯å’Œè®¢å•é¡¹åˆ—è¡¨

##### 20. æ›´æ–°è®¢å•çŠ¶æ€
- **æ¥å£**: `PUT /admin/order/{id}/status?status={status}`
- **æƒé™**: ç®¡ç†å‘˜
- **å‚æ•°**: `status` (1å¾…æ”¯ä»˜, 2å¾…å‘è´§, 3å¾…æ”¶è´§, 4å·²å®Œæˆ, 5å·²å–æ¶ˆ)
- **è¯´æ˜**: 
  - çŠ¶æ€æ”¹ä¸º2ï¼ˆå·²æ”¯ä»˜ï¼‰æ—¶ï¼Œè‡ªåŠ¨è®¾ç½® `payTime`
  - çŠ¶æ€æ”¹ä¸º3ï¼ˆå·²å‘è´§ï¼‰æ—¶ï¼Œè‡ªåŠ¨è®¾ç½® `deliverTime`

##### 21. åˆ é™¤è®¢å•
- **æ¥å£**: `DELETE /admin/order/{id}`
- **æƒé™**: ç®¡ç†å‘˜
- **è¯´æ˜**: åˆ é™¤è®¢å•æ—¶ä¼šåŒæ—¶åˆ é™¤è¯¥è®¢å•çš„æ‰€æœ‰è®¢å•é¡¹

#### æ•°æ®ç»Ÿè®¡

##### 22. æ•°æ®ç»Ÿè®¡
- **æ¥å£**: `GET /admin/stats`
- **æƒé™**: ç®¡ç†å‘˜
- **å“åº”**:
```json
{
  "code": 200,
  "data": {
    "users": {
      "total": 1000,
      "user": 800,
      "merchant": 150,
      "admin": 50
    },
    "shops": {
      "total": 150,
      "pending": 10,
      "approved": 130,
      "rejected": 10
    },
    "products": {
      "total": 5000,
      "onSale": 4500,
      "offSale": 500
    },
    "orders": {
      "total": 5000,
      "pendingPay": 100,
      "pendingDeliver": 200,
      "delivering": 300,
      "finished": 4000,
      "cancelled": 400
    },
    "sales": {
      "totalAmount": 500000.00,
      "finishedCount": 4000
    }
  }
}
```

---

## ğŸ“Š æ•°æ®æ¨¡å‹

### User (ç”¨æˆ·è¡¨)
```json
{
  "id": 1,
  "phone": "13800138000",
  "password": "$2a$10...",
  "nickname": "ç”¨æˆ·8000",
  "avatar": "http://xxx/avatar.jpg",
  "role": "user",
  "status": 1,
  "createTime": "2024-01-01T12:00:00"
}
```

### Shop (åº—é“ºè¡¨)
```json
{
  "id": 1,
  "merchantId": 2,
  "name": "æˆ‘çš„åº—é“º",
  "logo": "http://xxx/logo.jpg",
  "status": 1,
  "createTime": "2024-01-01T12:00:00"
}
```

### Product (å•†å“è¡¨)
```json
{
  "id": 1,
  "shopId": 1,
  "name": "å•†å“åç§°",
  "image": "http://xxx/image.jpg",
  "price": 99.00,
  "stock": 100,
  "sales": 50,
  "isOnSale": 1,
  "createTime": "2024-01-01T12:00:00"
}
```

### Order (è®¢å•è¡¨)
```json
{
  "id": 1,
  "orderNo": "ORD123456789",
  "userId": 1,
  "shopId": 1,
  "totalAmount": 199.00,
  "status": 2,
  "address": "æ”¶è´§åœ°å€",
  "payTime": "2024-01-01T12:00:00",
  "deliverTime": null,
  "createTime": "2024-01-01T11:00:00"
}
```

### OrderItem (è®¢å•é¡¹è¡¨)
```json
{
  "id": 1,
  "orderId": 1,
  "productId": 1,
  "productName": "å•†å“åç§°",
  "productImage": "http://xxx/image.jpg",
  "price": 99.00,
  "num": 2
}
```

### Cart (è´­ç‰©è½¦è¡¨)
```json
{
  "id": 1,
  "userId": 1,
  "productId": 1,
  "num": 2,
  "createTime": "2024-01-01T12:00:00"
}
```

---

## ğŸ”¢ çŠ¶æ€ç è¯´æ˜

### è®¢å•çŠ¶æ€ (Order.status)
- `1`: å¾…æ”¯ä»˜
- `2`: å¾…å‘è´§ï¼ˆå·²æ”¯ä»˜ï¼‰
- `3`: å¾…æ”¶è´§ï¼ˆå·²å‘è´§ï¼‰
- `4`: å·²å®Œæˆ
- `5`: å·²å–æ¶ˆ

### åº—é“ºçŠ¶æ€ (Shop.status)
- `0`: å®¡æ ¸ä¸­
- `1`: å®¡æ ¸é€šè¿‡
- `2`: å®¡æ ¸é©³å›

### å•†å“ä¸Šæ¶çŠ¶æ€ (Product.isOnSale)
- `0`: ä¸‹æ¶
- `1`: ä¸Šæ¶

### ç”¨æˆ·çŠ¶æ€ (User.status)
- `1`: æ­£å¸¸/å¯ç”¨
- `0`: ç¦ç”¨

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è·¨åŸŸ**: å·²é…ç½®CORSï¼Œæ”¯æŒè·¨åŸŸè¯·æ±‚
2. **æ–‡ä»¶ä¸Šä¼ **: ä¸Šä¼ æ–‡ä»¶åˆ°é˜¿é‡Œäº‘OSSï¼Œè¿”å›å®Œæ•´URL
3. **æƒé™æ§åˆ¶**: 
   - `/auth/**` æ— éœ€è®¤è¯
   - `/user/**` éœ€è¦ç™»å½•ï¼ˆä»»æ„è§’è‰²ï¼‰
   - `/merchant/**` éœ€è¦å•†å®¶è§’è‰²
   - `/admin/**` éœ€è¦ç®¡ç†å‘˜è§’è‰²
4. **åˆ†é¡µ**: å¤§éƒ¨åˆ†åˆ—è¡¨æ¥å£æ”¯æŒåˆ†é¡µï¼Œé»˜è®¤æ¯é¡µ10æ¡
5. **æ—¶é—´æ ¼å¼**: æ‰€æœ‰æ—¶é—´å­—æ®µä¸º `LocalDateTime`ï¼ŒJSONæ ¼å¼ä¸º `"2024-01-01T12:00:00"`
6. **é‡‘é¢æ ¼å¼**: æ‰€æœ‰é‡‘é¢å­—æ®µä¸º `BigDecimal`ï¼ŒJSONæ ¼å¼ä¸ºæ•°å­—ï¼Œå¦‚ `99.00`

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **å¯åŠ¨åç«¯æœåŠ¡**: è¿è¡Œ `ShopApplication.java`
2. **æµ‹è¯•æ¥å£**: ä½¿ç”¨ Postman æˆ–ç±»ä¼¼å·¥å…·
3. **è·å–Token**: å…ˆè°ƒç”¨ `/auth/login` æˆ– `/auth/register` è·å– token
4. **è®¿é—®æ¥å£**: åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `Authorization: Bearer {token}`

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024å¹´

